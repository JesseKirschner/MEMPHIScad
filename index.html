<!DOCTYPE html>
<html>
    <head>
        <title> MEMPHIS in ANTWERPEN </title>
        
    </head>
    <body>
    
        <script type="text/javascript" src="https://raw.github.com/mrdoob/three.js/master/build/three.min.js"></script>
        <script type="text/javascript" src="https://raw.github.com/mrdoob/three.js/3d354a70d5a84a3d513caf8a8bc30c95b3a338e2/examples/js/controls/TrackballControls.js"></script>
        <script type="text/javascript" src="https://raw.github.com/chandlerprall/ThreeCSG/master/ThreeCSG.js"></script>
        <script type="text/javascript">
    
	'use strict';
	
	var initScene, render,
		projector, renderer, render_stats, physics_stats, scene, camera,
        
		//dit is alles om met de muis te kunnen werken
		initEventHandling, intersect_plane, selected_cell = null, controls,
		mouse_position = new THREE.Vector3;
	
	initScene = function() {
		projector = new THREE.Projector;
        
        renderer = new THREE.WebGLRenderer({ antialias: true });
    	renderer.setSize( window.innerWidth, window.innerHeight );
		renderer.shadowMapEnabled = true;
		renderer.shadowMapSoft = true;
		document.getElementById( 'viewport' ).appendChild( renderer.domElement );
		
		scene = new THREE.Scene;
        
		camera = new THREE.PerspectiveCamera(
			35,
			window.innerWidth / window.innerHeight,
			1,
			1000
		);
		camera.position.set( 25, 20, 25 );
		camera.lookAt( scene.position );
		
		controls = new THREE.TrackballControls( camera );
		
		scene.add( camera );
        
        (function() {
    	var start_time = (new Date()).getTime();

		var cube_geometry = new THREE.CubeGeometry( 3, 3, 3 );
		var cube_mesh = new THREE.Mesh( cube_geometry );
		cube_mesh.position.x = -7;
		var cube_bsp = new ThreeBSP( cube_mesh );

		var sphere_geometry = new THREE.SphereGeometry( 1.8, 32, 32 );
		var sphere_mesh = new THREE.Mesh( sphere_geometry );
		sphere_mesh.position.x = -7;
		var sphere_bsp = new ThreeBSP( sphere_mesh );

		var subtract_bsp = cube_bsp.subtract( sphere_bsp );
		var result = subtract_bsp.toMesh( new THREE.MeshLambertMaterial({ shading: THREE.SmoothShading, map: THREE.ImageUtils.loadTexture('texture.png') }) );
		result.geometry.computeVertexNormals();
		scene.add( result );

		console.log( 'Example 1: ' + ((new Date()).getTime() - start_time) + 'ms' );
	})();
		
		requestAnimationFrame( render );
	};

	
	render = function() {
		requestAnimationFrame( render );
		
		controls.update();
		renderer.render( scene, camera );
	};
	
	//Mouse

	initEventHandling = (function() {
		var _vector = new THREE.Vector3,
			projector = new THREE.Projector(),
			handleMouseDown, handleMouseMove, handleMouseUp;
		
		handleMouseDown = function( evt ) {
			if(evt.button = 2){
				console.log("hier met de raytracing enzo");
			}
		};
		
		handleMouseMove = function( evt ) {
			if(evt.button = 2){
			}
		};
		
		handleMouseUp = function( evt ) {
			if(evt.button = 2){
			}
			
		};
		
		return function() {
			renderer.domElement.addEventListener( 'mousedown', handleMouseDown );
			renderer.domElement.addEventListener( 'mousemove', handleMouseMove );
			renderer.domElement.addEventListener( 'mouseup', handleMouseUp );
		};
	})();
	
	window.onload = initScene;
	
	</script>
    
    <div id="viewport"></div>
    
    </body>

</html>
